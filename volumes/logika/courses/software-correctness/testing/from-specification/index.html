<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Contracts provide a basis for deriving test cases based on a simple observation concerning constraints of value ranges expressed in contracts. As a simple example take the following informal contract
// requires (x &gt; 0 &amp; 0 &lt; y &amp; y &lt; 11) | (x &lt; 0 &amp; y == 1) // ensures Res = 2 * y Not yet knowing how this is going to implemented, we can predicted which conditions might occur in the implementation." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://doc.sireum.org/volumes/logika/courses/software-correctness/testing/from-specification/" />


    <title>
        
            Testing From Specifications :: Sireum Doc 
        
    </title>



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" integrity="sha512-Cv93isQdFwaKBV+Z4X8kaVBYWHST58Xb/jVOcV9aRsGSArZsgAnFIhMpDoMDcFNoUtday1hdjn0nGp3+KZyyFw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.14/themes/default/style.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.14/themes/default-dark/style.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://doc.sireum.org/_pagefind/pagefind-ui.css">




<link rel="stylesheet" href="https://doc.sireum.org/main.9b7fec326fab4b320f3a6ebff5b2cd1a56f40af9971ff15a0213c97eff1ce5d0.css" integrity="sha256-m3/sMm&#43;rSzIPOm6/9bLNGlb0CvmXH/FaAhPJfv8c5dA=">



    <link rel="apple-touch-icon" sizes="180x180" href="https://doc.sireum.org/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://doc.sireum.org/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://doc.sireum.org/favicon-16x16.png">
    <link rel="manifest" href="https://doc.sireum.org/site.webmanifest">
    <link rel="mask-icon" href="https://doc.sireum.org/safari-pinned-tab.svg" color="">
    <link rel="shortcut icon" href="https://doc.sireum.org/favicon.ico">
    <meta name="msapplication-TileColor" content="">



  <meta itemprop="name" content="Testing From Specifications">
  <meta itemprop="description" content="Contracts provide a basis for deriving test cases based on a simple observation concerning constraints of value ranges expressed in contracts. As a simple example take the following informal contract
// requires (x &gt; 0 &amp; 0 &lt; y &amp; y &lt; 11) | (x &lt; 0 &amp; y == 1) // ensures Res = 2 * y Not yet knowing how this is going to implemented, we can predicted which conditions might occur in the implementation.">
  <meta itemprop="datePublished" content="2022-12-02T14:30:41+01:00">
  <meta itemprop="dateModified" content="2022-12-02T14:30:41+01:00">
  <meta itemprop="wordCount" content="1036">
  <meta itemprop="image" content="https://doc.sireum.org/">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://doc.sireum.org/">
  <meta name="twitter:title" content="Testing From Specifications">
  <meta name="twitter:description" content="Contracts provide a basis for deriving test cases based on a simple observation concerning constraints of value ranges expressed in contracts. As a simple example take the following informal contract
// requires (x &gt; 0 &amp; 0 &lt; y &amp; y &lt; 11) | (x &lt; 0 &amp; y == 1) // ensures Res = 2 * y Not yet knowing how this is going to implemented, we can predicted which conditions might occur in the implementation.">







    <meta property="article:published_time" content="2022-12-02 14:30:41 &#43;0100 &#43;0100" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="menu-trigger">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
        </svg>
    </span>
    <span class="header__inner">
        <a href="https://doc.sireum.org/" style="text-decoration: none;">
    <div class="logo">
        
            <img class="color-scheme" src="https://doc.sireum.org/img/santos/icon-doc.png" alt="">
            &nbsp;<span class="logo__text">Doc</span>
        
    </div>
</a>


        <span class="header__right">
            
                

<nav class="menu">
  <ul class="menu__inner">
  
  
    
      <div class="submenu">
        <li class="dropdown" onmouseover="menuDisplay(this.children[1], true);" onmouseout="menuDisplay(this.children[1], false);">
          <a class="dropbtn" href="https://doc.sireum.org/volumes/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Volumes&nbsp;<small>ᐁ</small></span>
            <span class="responsive-title-short">Volumes&nbsp;<small>ᐁ</small></span>
          </a>
          <div class="dropdown-content" align="left">
            <ul style="margin:8px;">
              
                
  
  
    
      <div>
        <li>
          <a href="https://doc.sireum.org/volumes/slang/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Slang</span>
            <span class="responsive-title-short">Slang</span>
          </a>
        </li>
      </div>
    
  

              
                
  
  
    
      <div>
        <li>
          <a href="https://doc.sireum.org/volumes/hamr/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">HAMR</span>
            <span class="responsive-title-short">HAMR</span>
          </a>
        </li>
      </div>
    
  

              
                
  
  
    
      <div>
        <li>
          <a href="https://doc.sireum.org/volumes/logika" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Logika</span>
            <span class="responsive-title-short">Logika</span>
          </a>
        </li>
      </div>
    
  

              
            </ul>
          </div>
        </li>
      </div>
    
  

  
  
    
      <div class="submenu">
        <li class="dropdown" onmouseover="menuDisplay(this.children[1], true);" onmouseout="menuDisplay(this.children[1], false);">
          <a class="dropbtn" href="https://doc.sireum.org/venues/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Venues&nbsp;<small>ᐁ</small></span>
            <span class="responsive-title-short">Venues&nbsp;<small>ᐁ</small></span>
          </a>
          <div class="dropdown-content" align="left">
            <ul style="margin:8px;">
              
                
  
  
    
      <div>
        <li>
          <a href="https://doc.sireum.org/venues/tutorials/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Tutorials</span>
            <span class="responsive-title-short">Tutorials</span>
          </a>
        </li>
      </div>
    
  

              
                
  
  
    
      <div>
        <li>
          <a href="https://doc.sireum.org/venues/presentations/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Presentations</span>
            <span class="responsive-title-short">Presentations</span>
          </a>
        </li>
      </div>
    
  

              
            </ul>
          </div>
        </li>
      </div>
    
  

  
  
    
      <div>
        <li>
          <a href="https://sireum.org/getting-started/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Download</span>
            <span class="responsive-title-short">Download</span>
          </a>
        </li>
      </div>
    
  

  
  
    
      <div>
        <li>
          <a href="https://sireum.org/papers" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Papers</span>
            <span class="responsive-title-short">Papers</span>
          </a>
        </li>
      </div>
    
  

  
  
    
      <div>
        <li>
          <a href="https://sireum.org/funding" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Funding</span>
            <span class="responsive-title-short">Funding</span>
          </a>
        </li>
      </div>
    
  

  
  
    
      <div>
        <li>
          <a href="https://sireum.org/team" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">
            <span class="responsive-title-long">Team</span>
            <span class="responsive-title-short">Team</span>
          </a>
        </li>
      </div>
    
  

  </ul>
</nav>

            
        </span>
    </span>
        <span class="theme-toggle not-selectable" style="margin-right: 10px"><img src="https://doc.sireum.org/img/toggle.png" height="20px"></span>
      <div class="submenu">
          <li class="dropdown" onmouseover="menuDisplay(this.children[1], true); searchFocus();" onmouseout="menuDisplay(this.children[1], false);">
              <a class="dropbtn fa fa-search"></a>
              <div class="dropdown-content" align="left">
                  <div id="search" style="z-index:2147483647; position: fixed;"></div>
              </div>
          </li>
      </div>
    
</header>


            <div class="content">
                
    <main class="post">

        <div class="post-info">
            
            </p>
        </div>

        <article>
            <h2 class="post-title"><a href="https://doc.sireum.org/volumes/logika/courses/software-correctness/testing/from-specification/">Testing From Specifications</a></h2>

            
            
            

            <div class="post-content">
                <p>Contracts provide a basis for deriving test cases based on a simple observation concerning constraints of value ranges expressed in contracts.
As a simple example take the following informal contract</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="c1">// requires (x &gt; 0 &amp; 0 &lt; y &amp; y &lt; 11) | (x &lt; 0 &amp; y == 1)
</span></span></span><span class="line"><span class="cl"><span class="c1">// ensures Res = 2 * y
</span></span></span></code></pre></div><p>Not yet knowing how this is going to implemented, we can predicted which conditions might occur in the implementation. Typically, they are going to based on the components of the properties specified the
requires clauses, that is, <code>x &gt; 0</code>, <code>0 &lt; y</code>, <code>y &lt; 11</code>, <code>x &lt; 0</code>, and <code>y == 1</code>.
Of course, there might be more and some components might be ignored. But it&rsquo;s a good starting point nonetheless.
Any implementation of the contract makes some use of it.
We consider two techniques that can be used for deriving test cases from specifications:</p>
<ul>
<li><em>Equivalence class partitioning</em> to derive combinations of value ranges</li>
<li><em>Boundary value analysis</em> to derive specific values from the value ranges</li>
</ul>
<p>Taken together, the two techniques permit to exploit contracts for test case generation without considering
potential implementations. This can be particularly useful in cases where there is no access to an implementation.
Another strength of these techniques is that they also permit to check program behavior outside the defined precondition. This can be relevant for the security of public interfaces, for instance, when a parameter is an array bound or index.</p>
<h2 id="equivalence-class-partitioning">Equivalence Class Partitioning</h2>
<p>Assuming all values are integer numbers, in the example</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scala" data-lang="scala"><span class="line"><span class="cl"><span class="c1">// requires (x &gt; 0 &amp; 0 &lt; y &amp; y &lt; 11) | (x &lt; 0 &amp; y == 1)
</span></span></span><span class="line"><span class="cl"><span class="c1">// ensures z = 2 * y
</span></span></span></code></pre></div><p>each inequality partitions the integer numbers into two sets that can subsequently be intersected. For instance,</p>
<ol>
<li><code>x &gt; 0</code> partitions the integer numbers into all those <code>x</code> such that <code>x &gt; 0</code> and those <code>x</code> such that <code>x &lt;= 0</code>, and</li>
<li><code>x &lt; 0</code> partitions the integer numbers into all those <code>x</code> such that <code>x &lt; 0</code> and those <code>x</code> such that <code>x &gt;= 0</code>.</li>
</ol>
<p>Calculating the intersections of the partitions in <strong>1</strong> and <strong>2</strong>, we obtain</p>
<table>
<thead>
<tr>
<th>1.</th>
<th>2.</th>
<th>Partition</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x &gt; 0</code></td>
<td><code>x &lt; 0</code></td>
<td>&laquo;Empty&raquo;</td>
</tr>
<tr>
<td><code>x &lt;= 0</code></td>
<td><code>x &lt; 0</code></td>
<td><code>x &lt; 0</code></td>
</tr>
<tr>
<td><code>x &gt; 0</code></td>
<td><code>x &gt;= 0</code></td>
<td><code>x &gt; 0</code></td>
</tr>
<tr>
<td><code>x &lt;= 0</code></td>
<td><code>x &gt;= 0</code></td>
<td><code>x == 0</code></td>
</tr>
</tbody>
</table>
<p>Similarly we get the four partitions <code>y &lt;= 0</code>, <code>y == 1</code>, <code>1 &lt; y &amp; y &lt; 11</code>, and <code>y &gt;= 11</code> from three three containts on <code>y</code>.</p>
<p>We categorise the product partitions for <code>x</code> and <code>y</code> into &laquo;Valid&raquo; and &laquo;Invalid&raquo; partitions</p>
<table>
<thead>
<tr>
<th><code>x</code></th>
<th><code>y</code></th>
<th>Partition</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x &lt; 0</code></td>
<td><code>y &lt;= 0</code></td>
<td>&laquo;Invalid&raquo;</td>
</tr>
<tr>
<td><code>x &lt; 0</code></td>
<td><code>y == 1</code></td>
<td>&laquo;Valid&raquo;</td>
</tr>
<tr>
<td><code>x &lt; 0</code></td>
<td><code>1 &lt; y &amp; y &lt; 11</code></td>
<td>&laquo;Invalid&raquo;</td>
</tr>
<tr>
<td><code>x &lt; 0</code></td>
<td><code>y &gt;= 11</code></td>
<td>&laquo;Invalid&raquo;</td>
</tr>
<tr>
<td><code>x &gt; 0</code></td>
<td><code>y &lt;= 0</code></td>
<td>&laquo;Invalid&raquo;</td>
</tr>
<tr>
<td><code>x &gt; 0</code></td>
<td><code>y == 1</code></td>
<td>&laquo;Valid&raquo;</td>
</tr>
<tr>
<td><code>x &gt; 0</code></td>
<td><code>1 &lt; y &amp; y &lt; 11</code></td>
<td>&laquo;Valid&raquo;</td>
</tr>
<tr>
<td><code>x &gt; 0</code></td>
<td><code>y &gt;= 11</code></td>
<td>&laquo;Invalid&raquo;</td>
</tr>
<tr>
<td><code>x == 0</code></td>
<td><code>y &lt;= 0</code></td>
<td>&laquo;Invalid&raquo;</td>
</tr>
<tr>
<td><code>x == 0</code></td>
<td><code>y == 1</code></td>
<td>&laquo;Invalid&raquo;</td>
</tr>
<tr>
<td><code>x == 0</code></td>
<td><code>1 &lt; y &amp; y &lt; 11</code></td>
<td>&laquo;Invalid&raquo;</td>
</tr>
<tr>
<td><code>x == 0</code></td>
<td><code>y &gt;= 11</code></td>
<td>&laquo;Invalid&raquo;</td>
</tr>
</tbody>
</table>
<p>where a product partition is &laquo;Valid&raquo; if the component partitions imply the precondition in the requires clause.
For instance, <code>x &lt; 0 &amp; y == 1</code> implies <code>(x &gt; 0 &amp; 0 &lt; y &amp; y &lt; 11) | (x &lt; 0 &amp; y == 1)</code>.
A product partition is &laquo;Invalid&raquo; if the component partitions imply the negated precondition.
For instance, <code>x &lt; 0 &amp; y &lt;= 0</code> implies <code>(x &lt;= 0 | 0 &gt;= y | y &gt;= 11) &amp; (x &gt;= 0 | y != 1)</code>.
We are not interested in partitions that do not fall into one of the two categories &laquo;Valid&raquo; or &laquo;Invalid&raquo;.
If a product partition is neither &laquo;Valid&raquo; or &laquo;Invalid&raquo;, we can either decide to split the component partitions further or discard the product partition.</p>
<p>For non-numeric data types partitions may be based on equality or take into account &ldquo;special&rdquo; values.
For instance, for the enumerated values <code>Red</code>, <code>Green</code> and <code>Blue</code> of a type <code>Color</code>
we may have two partitions <code>x == Red</code> and <code>x != Red</code>. For arrays, we may have <code>a == Array()</code> and <code>a != Array()</code>.</p>
<h2 id="boundary-value-analysis">Boundary Value Analysis</h2>
<p>Equivalence class partitioning does not provide the values for the input of test cases except in the cases where a precondition contains an equation. Boundary value analysis provides the remaining values that are required to specify the input of test cases. It takes the partitions found in equivalence class partitioning and chooses values at the boundaries of the partitions.</p>
<table>
<thead>
<tr>
<th>Partition</th>
<th>Boundary Values</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>x &lt; 0</code></td>
<td><code>x == -1</code></td>
</tr>
<tr>
<td><code>x &gt; 0</code></td>
<td><code>x == 1</code></td>
</tr>
<tr>
<td><code>x == 0</code></td>
<td><code>x == 0</code></td>
</tr>
<tr>
<td><code>y &lt;= 0</code></td>
<td><code>y == 0</code></td>
</tr>
<tr>
<td><code>y == 1</code></td>
<td><code>y == 1</code></td>
</tr>
<tr>
<td><code>1 &lt; y &amp; y &lt; 11</code></td>
<td><code>y == 2</code> and <code>y == 10</code></td>
</tr>
<tr>
<td><code>y &gt;= 11</code></td>
<td><code>y == 11</code></td>
</tr>
</tbody>
</table>
<p>Combinations of theses values according to the product partitions are the input values for the test cases.</p>
<h2 id="test-cases">Test Cases</h2>
<p>After performing equivalence class partitioning and boundary value analysis, we have to set up the test cases.</p>
<p>For &laquo;Invalid&raquo; inputs of a function of a public interface we have to ensure that the function aborts properly.
For internal functions we may want to check that such calls do not have harmful side-effects.
Testing with &laquo;Invalid&raquo; inputs and the expected behaviour depends very much on the kind of software being developed. Our development methodology is based on contracts and contract adherence, but a malicious programmer could attempt to produce unindended software behaviour by breaking the contracts. Such considerations are very relevant when dealing with secure software components.</p>
<p>For all &laquo;Valid&raquo; partitions we can use the postcondition to obtain the expected output for the function. In our example the postcondition is <code>Res = 2 * y</code>, so that we can calculate the result <code>Res</code> from the input value <code>y</code>. In cases where <code>Res</code> is only specified by a relation, say <code>Res &gt;= 2 * y</code>, we can check the result of the function with respect to this relation.</p>

            </div>
        </article>

        <hr />

        
<div style="display: grid; grid-template-columns: 2% 49% 49%; text-align: center;">
  <div class="submenu" style="background: transparent; text-align: left; position: relative;">
    <li class="dropdown" onmouseover="menuDisplay(this.children[1], true);" onmouseout="menuDisplay(this.children[1], false);">
      <a class="dropbtn" href=""><i class="fa-solid fa-angles-up"></i></a>
      <div class="dropdown-content" style="bottom: 100%;"><a class="post-item-inner" href="https://doc.sireum.org/volumes/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">Volumes</a><a class="post-item-inner" href="https://doc.sireum.org/volumes/logika/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">Logika</a><a class="post-item-inner" href="https://doc.sireum.org/volumes/logika/courses/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">Course Materials</a><a class="post-item-inner" href="https://doc.sireum.org/volumes/logika/courses/software-correctness/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">Logika Course: Software Correctness</a><a class="post-item-inner" href="https://doc.sireum.org/volumes/logika/courses/software-correctness/testing/" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">Testing</a></div>
    </li>
  </div>
  <div style="text-align: left;">
    
  </div>
  <div style="text-align: right;">
    
      <a href="https://doc.sireum.org/volumes/logika/courses/software-correctness/testing/from-implementation/" style="text-decoration: none;" onmouseover="menuUnderline(this, true);" onmouseout="menuUnderline(this, false);">Testing From Implementations
        <i class="fa-solid fa-chevron-right"></i>
      </a>
    
  </div>
</div>



        <div class="post-info">
            
            
  		</div>
    </main>

            </div>

            
                <footer class="footer">
    
    
</footer>

            
        </div>

        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js" integrity="sha512-STof4xm1wgkfm7heWqFJVn58Hm3EtS31XFaagaa8VMReCXAkQnJZ+jEy8PCC/iT18dFy95WcExNHFTqLyp72eQ==" crossorigin="anonymous"></script>



<script type="text/javascript" src="https://doc.sireum.org/bundle.min.d9847dec188cb3ba71e262769d7f64069d223c3a9713999a5da5f7aca5638686e15a900ac07cc755d19861961f24145ef2d608296933e4150cae87f4911a7dbb.js" integrity="sha512-2YR97BiMs7px4mJ2nX9kBp0iPDqXE5maXaX3rKVjhobhWpAKwHzHVdGYYZYfJBRe8tYIKWkz5BUMrof0kRp9uw=="></script>


<script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/thecarnie-cycle2/2.1.6c/jquery.cycle2.min.js" integrity="sha512-ydWfQuPu+srw5hhkU8O1XGn3/Kc+GyoDBvYc8E+SyuZKphQP18ZWYKywIFzPWZwQk6dlmTY69aDg/SnFz3qPeQ==" crossorigin="anonymous"></script>
<script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/js/all.min.js" integrity="sha512-rpLlll167T5LJHwp0waJCh3ZRf7pO6IT1+LZOhAyP6phAirwchClbTZV3iqL3BMrVxIYRbzGTpli4rfxsCK6Vw==" crossorigin="anonymous"></script>
<script defer type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.3.14/jstree.min.js" integrity="sha512-OQ2by9SrJBwcXaeYmkG2t6FVZiwpyRtFar2VvULjuq5OjVpJLwsUHuNzN9PClqEJAYsWsRPSb4TTfriZzPGiow==" crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://doc.sireum.org/_pagefind/pagefind-ui.js"></script>
  <script type="text/javascript">
    window.addEventListener('DOMContentLoaded', (event) => {
      new PagefindUI({
        element: "#search",
        showEmptyFilters: true,
        mergeIndex: [
          
            { bundlePath: "https:\/\/sireum.org\/_pagefind" },
          
            { bundlePath: "https:\/\/slang.sireum.org\/_pagefind" },
          
            { bundlePath: "https:\/\/logika.sireum.org\/_pagefind" },
          
        ]
      });
    });
  </script>
<script style="text/javascript">
  window.addEventListener('load', function () {
    $('#page-tree').jstree({
      "core": {
        "themes": {
          "name": document.documentElement.getAttribute("data-theme") == "dark" ? "default-dark" : "default",
          "dots": true,
          "icons": false,
          "variant": "large"
        }
      },
      plugins: [ "ui" ],
    }).bind("select_node.jstree", function (e, data) {
      document.location.href = data.node.a_attr.href;
    }).bind("ready.jstree", function (event, data) {
      $(this).jstree("open_all");
    }).bind("open_all.jstree", function (event, data) {
      level = 0;
      data.instance.element.find('li').each(function() {
        if (level > 0 && data.instance.get_path(this).length >= level){
          data.instance.close_node(this);
        }
      });
      data.instance.element.get()[0].style.display="block";
    });
  });
</script>


    </body>
</html>
